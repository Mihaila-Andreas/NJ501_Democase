{"CLs":[{"__type":"IST","EID":"be6f963a-066f-4ea8-adc1-72ea3f602865","H":183.33333333333334,"TXT":"IF HMI_Screen_Name='PackML' AND HMI_Screen_OldName<>'PackML' THEN ResetAllTimes:=TRUE; END_IF;\u000d\u000aHMI_Screen_OldName:=HMI_Screen_Name;\u000d\u000aTimerResetAllTimes(In:=ResetAllTimes, PT:=TIME#20ms);\u000d\u000aIF TimerResetAllTimes.Q THEN ResetAllTimes:=FALSE; END_IF;","W":1167.333333333333}],"LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"FB","In":[{"__type":"PF","Arg":"Enable"},{"__type":"PRM","Arg":"CurrentMode","Type":"DINT","Var":"myMachine.Status.UnitModeCurrent"},{"__type":"PRM","Arg":"CurrentState","Ix":1,"Type":"DINT","Var":"myMachine.Status.StateCurrent"},{"__type":"PRM","Arg":"Cmd_ResetAllDwellTimes","Ix":2,"Type":"BOOL","Var":"ResetAllTimes"},{"__type":"PRM","Arg":"Sts_ModeCurrentDwellSeconds","IO":true,"Ix":3,"Type":"ARRAY[1..31] OF DINT","Var":"myMachine.Admin.ModeCurrentTime"},{"__type":"PRM","Arg":"Sts_ModeCumulativeDwellSeconds","IO":true,"Ix":4,"Type":"ARRAY[1..31] OF DINT","Var":"myMachine.Admin.ModeCumulativeTime"},{"__type":"PRM","Arg":"Sts_StateCurrentDwellSeconds","IO":true,"Ix":5,"Type":"ARRAY[1..31,1..17] OF DINT","Var":"myMachine.Admin.StateCurrentTime"},{"__type":"PRM","Arg":"Sts_StateCumulativeDwellSeconds","IO":true,"Ix":6,"Type":"ARRAY[1..31,1..17] OF DINT","Var":"myMachine.Admin.StateCumulativeTime"}],"Ix":13,"Name":"\\\\OmronLib\\PackML30\\PackMLModeStateTimer","Out":[{"__type":"PRM","Arg":"Sts_AccTimeSinceReset","Ix":7,"Type":"DINT","Var":""},{"__type":"PF","Arg":"Error"},{"__type":"PRM","Arg":"ErrorID","Ix":8,"Type":"WORD","Var":""},{"__type":"PRM","Arg":"Sts_ModeCurrentDwellSeconds","IO":true,"Ix":9,"Type":"ARRAY[1..31] OF DINT","Var":"myMachine.Admin.ModeCurrentTime"},{"__type":"PRM","Arg":"Sts_ModeCumulativeDwellSeconds","IO":true,"Ix":10,"Type":"ARRAY[1..31] OF DINT","Var":"myMachine.Admin.ModeCumulativeTime"},{"__type":"PRM","Arg":"Sts_StateCurrentDwellSeconds","IO":true,"Ix":11,"Type":"ARRAY[1..31,1..17] OF DINT","Var":"myMachine.Admin.StateCurrentTime"},{"__type":"PRM","Arg":"Sts_StateCumulativeDwellSeconds","IO":true,"Ix":12,"Type":"ARRAY[1..31,1..17] OF DINT","Var":"myMachine.Admin.StateCumulativeTime"}],"UD":true,"Var":"PackMLModeStateTimer"}],"LRI":14,"RRI":15,"VLs":[]}
{"CLs":[{"__type":"IST","EID":"122e8e05-dd70-4e3a-83f4-b788fe02045c","H":704.00000000000023,"TXT":"\/\/LOSSES ANALISI\u000d\u000a\/\/Breakdown is: Aborting, Aborted, Clearing, Stopping, Stopped (Time)\u000d\u000amyMachineLosses.BreakdownTime:=\u000d\u000a\u0009myMachine.Admin.StateCumulativeTime[myMachine.Status.UnitModeCurrent,1]+\u000d\u000a\u0009myMachine.Admin.StateCumulativeTime[myMachine.Status.UnitModeCurrent,2]+\u000d\u000a\u0009myMachine.Admin.StateCumulativeTime[myMachine.Status.UnitModeCurrent,7]+\u000d\u000a\u0009myMachine.Admin.StateCumulativeTime[myMachine.Status.UnitModeCurrent,8]+\u000d\u000a\u0009myMachine.Admin.StateCumulativeTime[myMachine.Status.UnitModeCurrent,9];\u000d\u000a\/\/SetupTime is: Resetting, Idle and Complete (Time)\u000d\u000amyMachineLosses.SetupTime:=\u000d\u000a\u0009myMachine.Admin.StateCumulativeTime[myMachine.Status.UnitModeCurrent,4]+\u000d\u000a\u0009myMachine.Admin.StateCumulativeTime[myMachine.Status.UnitModeCurrent,15]+\u000d\u000a\u0009myMachine.Admin.StateCumulativeTime[myMachine.Status.UnitModeCurrent,17];\u000d\u000a\/\/StartupReject Time is: Starting (Time)\u000d\u000amyMachineLosses.StartupRejectTime:=\u000d\u000a\u0009myMachine.Admin.StateCumulativeTime[myMachine.Status.UnitModeCurrent,3];\u000d\u000a\/\/End of Production Losses Time is: Completing (Time)\u000d\u000amyMachineLosses.EndProductionRejectTime:=\u000d\u000a\u0009myMachine.Admin.StateCumulativeTime[myMachine.Status.UnitModeCurrent,16];\u000d\u000a\/\/Loses due to Functional operation is Holding, Held, Unholding (Time)\u000d\u000amyMachineLosses.FunctionalCauseTime:=\u000d\u000a\u0009myMachine.Admin.StateCumulativeTime[myMachine.Status.UnitModeCurrent,10]+\u000d\u000a\u0009myMachine.Admin.StateCumulativeTime[myMachine.Status.UnitModeCurrent,11]+\u000d\u000a\u0009myMachine.Admin.StateCumulativeTime[myMachine.Status.UnitModeCurrent,12];\u000d\u000a\/\/Loses due to external causes: Suspended, Suspending, Unsuspending (Time)\u000d\u000amyMachineLosses.ExternalCauseTime:=\u000d\u000a\u0009myMachine.Admin.StateCumulativeTime[myMachine.Status.UnitModeCurrent,5]+\u000d\u000a\u0009myMachine.Admin.StateCumulativeTime[myMachine.Status.UnitModeCurrent,13]+\u000d\u000a\u0009myMachine.Admin.StateCumulativeTime[myMachine.Status.UnitModeCurrent,14];\u000d\u000a\/\/Loses due to defective products (%)\u000d\u000amyMachineLosses.ProductionRejects:=\u000d\u000a\u0009myMachine.Admin.ProdDefectiveCount[myMachine.Status.UnitModeCurrent].AccCount*100\/\u000d\u000a\u0009myMachine.Admin.ProdProcessedCount[myMachine.Status.UnitModeCurrent].AccCount;\u000d\u000a\/\/Loses due to reduced speed (time)\u000d\u000amyMachineLosses.ReducedSpeedTime:=TO_DINT(\u000d\u000a\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009  TO_REAL(myMachine.Admin.ProdProcessedCount[myMachine.Status.UnitModeCurrent].AccCount)\/\u000d\u000a\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009  TO_REAL(myMachine.Admin.StateCumulativeTime[myMachine.Status.UnitModeCurrent,6])\/ MaxSpeed);","W":1092.6666666666665}],"LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"IST","EID":"1545c7ef-4363-4e7d-80ab-3e4c202d3ff0","H":851.66666666666686,"TXT":"\/\/OEE ANALISI\u000d\u000a\/\/Availability\u000d\u000aOperatingTime:=\u000d\u000a\u0009myMachine.Admin.ModeCumulativeTime[myMachine.Status.UnitModeCurrent]-\u000d\u000a\u0009myMachineLosses.BreakdownTime-\u000d\u000a\u0009myMachineLosses.ExternalCauseTime-\u000d\u000a\u0009myMachineLosses.FunctionalCauseTime-\u000d\u000a\u0009myMachineLosses.SetupTime-\u000d\u000a\u0009myMachineLosses.StartupRejectTime-\u000d\u000a\u0009myMachineLosses.EndProductionRejectTime;\u000d\u000aIF myMachine.Admin.ModeCumulativeTime[myMachine.Status.UnitModeCurrent]>0 THEN\u000d\u000a\u0009myMachineOEE.Availability:=\u000d\u000a\u0009TO_LREAL(OperatingTime)\/\u000d\u000a\u0009TO_LREAL(myMachine.Admin.ModeCumulativeTime[myMachine.Status.UnitModeCurrent]);\u000d\u000aELSE\u000d\u000a\u0009myMachineOEE.Availability:=0;\u000d\u000aEND_IF;\u000d\u000a\u0009\u000d\u000a\/\/Performance\u000d\u000aIdealCycleTime:=60\/TO_LREAL(MaxSpeed); \/\/seconds per product\u000d\u000aIF OperatingTime>0 THEN\u000d\u000a\u0009myMachineOEE.Performance:=\u000d\u000a\u0009IdealCycleTime*\u000d\u000a\u0009TO_LREAL(myMachine.Admin.ProdProcessedCount[myMachine.Status.UnitModeCurrent].AccCount)\/\u000d\u000a\u0009OperatingTime;\u000d\u000aELSE\u000d\u000a\u0009myMachineOEE.Performance:=0;\u000d\u000aEND_IF;\u000d\u000aMaxNumberProducts:=TO_DINT(OperatingTime*MaxSpeed\/60);\u000d\u000a\u000d\u000a\u0009\u000d\u000a\/\/Quality\u000d\u000aIF myMachine.Admin.ProdProcessedCount[myMachine.Status.UnitModeCurrent].AccCount>0 THEN\u000d\u000amyMachineOEE.Quality:=\u000d\u000a\u0009TO_LREAL(myMachine.Admin.ProdProcessedCount[myMachine.Status.UnitModeCurrent].AccCount-myMachine.Admin.ProdDefectiveCount[myMachine.Status.UnitModeCurrent].AccCount)\/\u000d\u000a\u0009TO_LREAL(myMachine.Admin.ProdProcessedCount[myMachine.Status.UnitModeCurrent].AccCount);\u000d\u000aELSE\u000d\u000a\u0009myMachineOEE.Quality:=0;\u000d\u000aEND_IF;\u000d\u000a\u0009\u000d\u000a\/\/OEE\u000d\u000amyMachineOEE.OEE:=\u000d\u000a\u0009myMachineOEE.Availability*\u000d\u000a\u0009myMachineOEE.Performance*\u000d\u000a\u0009myMachineOEE.Quality;\u0009","W":1306}],"LRI":1,"RRI":2,"VLs":[]}
