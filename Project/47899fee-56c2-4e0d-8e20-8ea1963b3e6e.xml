{"CLs":[{"__type":"LD","Var":"EM3_Phasing"},{"__type":"IST","EID":"8c428efe-2073-4908-88b2-8ace82c87fb5","H":327,"Ix":1,"TXT":"ReferenceType:=_mcFeedback;\u000d\u000aRatio:=1;\u000d\u000a\u000d\u000aIF Velocity=0 THEN Master_Velocity:=50;\u000d\u000a\u0009ELSIF Velocity=1 THEN Master_Velocity:=150;\u000d\u000a\u0009ELSIF Velocity=2 THEN Master_Velocity:=300;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000a\u000d\u000a\u000d\u000a(* Gear wants to confont upper and lower disks, lower disk using conveyor (100) Units\u000d\u000aTherefore we apply the 360\/100 correction in order to make physically match both disks*)\u000d\u000a\u000d\u000a\u000d\u000aMaster_Axis_Position:=Belt.Act.Pos; \/\/*3.6;\u000d\u000aSlave_Axis_Position:=Disk.act.Pos;\u000d\u000a\u0009\u000d\u000a","W":798,"X":1}],"CMT":"\/\/ Phasing FUNCTION PROGRAM","LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"EM3_Phasing"},{"__type":"IST","EID":"c57c0d8b-8e04-4c23-bf96-3c144f751455","H":348,"Ix":1,"TXT":"IF PhaseVelocity=0 THEN Phase_Velocity:=100;\u000d\u000aELSIF PhaseVelocity=1 THEN Phase_Velocity:=200;\u000d\u000aELSIF PhaseVelocity=2 THEN Phase_Velocity:=300;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000aIF PhaseDirection=0 THEN\u000d\u000a\u0009IF PhaseShift=0 THEN Phase_Shift:=90;\u000d\u000a\u0009ELSIF PhaseShift=1 THEN Phase_Shift:=180;\u000d\u000a\u0009ELSIF PhaseShift=2 THEN Phase_Shift:=360;\u000d\u000a\u0009END_IF;\u000d\u000aELSE\u000d\u000a\u0009IF PhaseShift=0 THEN Phase_Shift:=-90;\u000d\u000a\u0009ELSIF PhaseShift=1 THEN Phase_Shift:=-180;\u000d\u000a\u0009ELSIF PhaseShift=2 THEN Phase_Shift:=-360;\u000d\u000a\u0009END_IF;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000a","W":798,"X":1}],"LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Ix":2,"Var":"EM3_Phasing"},{"__type":"LD","Var":"Execute_Phasing","X":1},{"__type":"LD","Ix":3,"Var":"EM3_Phasing","Y":1},{"__type":"LD","Ix":1,"Var":"Master_Enable.Active","X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":5,"Type":"ANY_ELEMENTARY, ENUM","Var":"Master_Velocity"},{"__type":"PRM","Arg":"In2","Ix":6,"Type":"ANY_ELEMENTARY, ENUM","Var":"OldVelocity3"}],"Ix":9,"Name":"<>","Out":[{"__type":"PF","Arg":""}],"X":2},{"__type":"ST","Ix":4,"Var":"Execute_Phasing1","X":3},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":7,"Type":"ANY","Var":"Master_Velocity"}],"Ix":10,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":8,"Type":"ANY","Var":"OldVelocity3"}],"X":2,"Y":1},{"__type":"HL","X":3,"Y":1}],"LRI":11,"RRI":12,"VLs":[{"Ix":13,"X":2}]}
{"CLs":[{"__type":"LD","Ix":2,"Var":"EM3_Phasing"},{"__type":"LD","Var":"Execute_Phasing","X":1},{"__type":"LD","Ix":1,"Var":"Execute_Phasing1","X":1,"Y":1},{"__type":"FB","In":[{"__type":"PF","Arg":"In"},{"__type":"PRM","Arg":"PT","Ix":17,"Type":"TIME","Var":"t#1s"}],"Ix":20,"Name":"TON","Out":[{"__type":"PF","Arg":"Q"},{"__type":"PRM","Arg":"ET","Ix":18,"Type":"TIME","Var":""}],"X":2,"Var":"Just_Delay"},{"__type":"FB","In":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":3,"Type":"_sAXIS_REF","Var":"Belt"},{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"Velocity","Ix":4,"Type":"LREAL","Var":"OldVelocity3"},{"__type":"PRM","Arg":"Acceleration","Ix":5,"Type":"LREAL","Var":"10000"},{"__type":"PRM","Arg":"Deceleration","Ix":6,"Type":"LREAL","Var":"10000"},{"__type":"PRM","Arg":"Jerk","Ix":7,"Type":"LREAL","Var":""},{"__type":"PRM","Arg":"Direction","Ix":8,"Type":"_eMC_DIRECTION","Var":""},{"__type":"PRM","Arg":"Continuous","Ix":9,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"BufferMode","Ix":10,"Type":"_eMC_BUFFER_MODE","Var":""}],"Ix":19,"Name":"MC_MoveVelocity","Out":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":11,"Type":"_sAXIS_REF","Var":"Belt"},{"__type":"PF","Arg":"InVelocity"},{"__type":"PRM","Arg":"Busy","Ix":12,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Active","Ix":13,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"CommandAborted","Ix":14,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":15,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":16,"Type":"WORD","Var":""}],"X":3,"Var":"Master_Enable"}],"LRI":21,"RRI":22,"VLs":[{"Ix":23,"X":1},{"Ix":24,"X":2}]}
{"CLs":[{"__type":"LD","Var":"Master_Enable.InVelocity"},{"__type":"FB","In":[{"__type":"PRM","Arg":"Master","IO":true,"Ix":1,"Type":"_sAXIS_REF","Var":"Belt"},{"__type":"PRM","Arg":"Slave","IO":true,"Ix":2,"Type":"_sAXIS_REF","Var":"Disk"},{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"RatioNumerator","Ix":3,"Type":"DINT","Var":"1"},{"__type":"PRM","Arg":"RatioDenominator","Ix":4,"Type":"UDINT","Var":"1"},{"__type":"PRM","Arg":"ReferenceType","Ix":5,"Type":"_eMC_REFERENCE_TYPE","Var":"_eMC_REFERENCE_TYPE#_mcFeedback"},{"__type":"PRM","Arg":"Acceleration","Ix":6,"Type":"LREAL","Var":"10000"},{"__type":"PRM","Arg":"Deceleration","Ix":7,"Type":"LREAL","Var":"10000"},{"__type":"PRM","Arg":"Jerk","Ix":8,"Type":"LREAL","Var":""},{"__type":"PRM","Arg":"BufferMode","Ix":9,"Type":"_eMC_BUFFER_MODE","Var":""}],"Ix":17,"Name":"MC_GearIn","Out":[{"__type":"PRM","Arg":"Master","IO":true,"Ix":10,"Type":"_sAXIS_REF","Var":"Belt"},{"__type":"PRM","Arg":"Slave","IO":true,"Ix":11,"Type":"_sAXIS_REF","Var":"Disk"},{"__type":"PF","Arg":"InGear"},{"__type":"PRM","Arg":"Busy","Ix":12,"Type":"BOOL","Var":"GearBusy"},{"__type":"PRM","Arg":"Active","Ix":13,"Type":"BOOL","Var":"GearActive"},{"__type":"PRM","Arg":"CommandAborted","Ix":14,"Type":"BOOL","Var":"GearAborted"},{"__type":"PRM","Arg":"Error","Ix":15,"Type":"BOOL","Var":"Gear_Error"},{"__type":"PRM","Arg":"ErrorID","Ix":16,"Type":"WORD","Var":"Gear_ErrorID"}],"X":1,"Var":"Gear_Enable"}],"LRI":18,"RRI":19,"VLs":[]}
{"CLs":[{"__type":"LD","Ix":1,"Var":"EM3_Phasing"},{"__type":"LD","Var":"Execute_Phasing_2","X":1},{"__type":"FB","In":[{"__type":"PRM","Arg":"Master","IO":true,"Ix":2,"Type":"_sAXIS_REF","Var":"Belt"},{"__type":"PRM","Arg":"Slave","IO":true,"Ix":3,"Type":"_sAXIS_REF","Var":"Disk"},{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"PhaseShift","Ix":4,"Type":"LREAL","Var":"Phase_Shift"},{"__type":"PRM","Arg":"Velocity","Ix":5,"Type":"LREAL","Var":"Phase_Velocity"},{"__type":"PRM","Arg":"Acceleration","Ix":6,"Type":"LREAL","Var":"10000"},{"__type":"PRM","Arg":"Deceleration","Ix":7,"Type":"LREAL","Var":"10000"},{"__type":"PRM","Arg":"Jerk","Ix":8,"Type":"LREAL","Var":""},{"__type":"PRM","Arg":"BufferMode","Ix":9,"Type":"_eMC_BUFFER_MODE","Var":""}],"Ix":17,"Name":"MC_Phasing","Out":[{"__type":"PRM","Arg":"Master","IO":true,"Ix":10,"Type":"_sAXIS_REF","Var":"Belt"},{"__type":"PRM","Arg":"Slave","IO":true,"Ix":11,"Type":"_sAXIS_REF","Var":"Disk"},{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":12,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Active","Ix":13,"Type":"BOOL","Var":"Phasing_Actived"},{"__type":"PRM","Arg":"CommandAborted","Ix":14,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":15,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":16,"Type":"WORD","Var":""}],"X":2,"Var":"Phasing_Enable"}],"LRI":18,"RRI":19,"VLs":[]}
