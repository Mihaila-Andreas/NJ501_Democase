{"CLs":[{"__type":"LD","Var":"Shutdown_OPC_UA_Server"},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"}],"Ix":5,"Name":"OPCUA_Shutdown","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":2,"Type":"BOOL","Var":"Shutdown_in_Progress"},{"__type":"PRM","Arg":"Error","Ix":3,"Type":"BOOL","Var":"Shutdown_Error"},{"__type":"PRM","Arg":"ErrorID","Ix":4,"Type":"WORD","Var":"Shutdown_Status_Error_ID"}],"X":1,"Var":"OPC_UA_Shutdown_Instance"},{"__type":"ST","Ix":1,"Var":"Shutdown_OPC_UA_Server_Done","X":2}],"LRI":6,"RRI":7,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Test_NTP_Status"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"}],"Ix":4,"Name":"GetNTPStatus","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":1,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ExecTime","Ix":2,"Type":"DATE_AND_TIME","Var":"Exact_Time_Romania"},{"__type":"PRM","Arg":"ExecNormal","Ix":3,"Type":"BOOL","Var":"NTP_Connection_Ok"}],"X":1}],"LRI":5,"RRI":6,"VLs":[]}
{"CLs":[{"__type":"IST","EID":"27de801f-aa4d-44b0-b62d-4809eb4faf3e","H":559,"TXT":"(* Logic for HMI Lights\u000d\u000a\u0009Field Application Engineer Andreas Mihaila\u000d\u000a\u0009OMRON Group\u000d\u000a\u0009Created: 07\/01\/2022\u000d\u000a\u0009Tested: 07\/01\/2022\u000d\u000a*)\u000d\u000a\u000d\u000a\/\/ Machine Start Light SET RESET\u000d\u000aIF OPC_DI_Start OR Node_Red_OPC_Start THEN\u000d\u000a\u0009OPC_DQ_Start_Light := TRUE;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000aIF NOT OPC_DI_Stop OR NOT Node_Red_OPC_Stop OR NOT OPC_DI_Emergency_Stop OR NOT Node_Red_OPC_Emergency_Stop OR OPC_DQ_Reset_Light THEN\u000d\u000a\u0009OPC_DQ_Start_Light := FALSE;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000a\/\/ Machine Stop Light RESET SET\u000d\u000aIF (OPC_DI_Start OR Node_Red_OPC_Start) AND NOT OPC_DQ_Reset_Light AND OPC_DI_Emergency_Stop AND Node_Red_OPC_Emergency_Stop THEN\u000d\u000a\u0009OPC_DQ_Stop_Light := FALSE;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000aIF NOT OPC_DI_Stop OR NOT Node_Red_OPC_Stop OR NOT OPC_DI_Emergency_Stop OR NOT Node_Red_OPC_Emergency_Stop OR OPC_DQ_Reset_Light THEN\u000d\u000a\u0009OPC_DQ_Stop_Light := TRUE;\u000d\u000aEND_IF;\u000d\u000a\u0009\u000d\u000a\/\/ Machine Reset Light RESET SET\u000d\u000aIF OPC_DI_Emergency_Stop AND Node_Red_OPC_Emergency_Stop AND (OPC_DI_Reset OR Node_Red_OPC_Reset) THEN\u000d\u000a\u0009OPC_DQ_Reset_Light := FALSE;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000aIF NOT OPC_DI_Emergency_Stop OR NOT Node_Red_OPC_Emergency_Stop OR NOT OPC_DI_Stop OR NOT Node_Red_OPC_Stop THEN\u000d\u000a\u0009OPC_DQ_Reset_Light := TRUE;\u000d\u000aEND_IF;\u000d\u000a","W":1470}],"CMT":"This Rung referrs to the logic of the HMI Panel Lights","LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"IST","EID":"08a2c122-f59d-4065-9fad-fa40f5aefc9b","H":665,"TXT":"(* Logic for Machine States\u000d\u000a\u0009Field Application Engineer Andreas Mihaila\u000d\u000a\u0009OMRON Group\u000d\u000a\u0009Created: 07\/01\/2022\u000d\u000a\u0009Tested: 07\/01\/2022\u000d\u000a*)\u000d\u000a\u000d\u000a\/\/ Machine Stop State\u000d\u000aMachine_Stop_State := OPC_DQ_Stop_Light;\u000d\u000a\u000d\u000a\/\/ Machine Error State\u000d\u000aMachine_Error_State := OPC_DQ_Reset_Light;\u000d\u000a\u000d\u000a\/\/ Machine Emergency State\u000d\u000aMachine_Emergency_State := OPC_DI_Emergency_Stop;\u000d\u000a\u000d\u000a\/\/ Machine Operating Mode\u000d\u000aIF OPC_DI_Auto AND OPC_DQ_Start_Light THEN\u000d\u000a\u0009Machine_Auto_State := TRUE;\u000d\u000a\u0009Machine_Manual_State := FALSE;\u000d\u000aELSE\u000d\u000a\u0009Machine_Auto_State := FALSE;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000aIF OPC_DI_Manual AND OPC_DQ_Start_Light THEN\u000d\u000a\u0009Machine_Manual_State := TRUE;\u000d\u000a\u0009Machine_Auto_State := FALSE;\u000d\u000a\u0009Machine_Run_State := TRUE;\u000d\u000aELSE\u000d\u000a\u0009Machine_Manual_State := FALSE;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000a\/\/ Machine Run State\u000d\u000aMachine_Run_State := Machine_Manual_State AND OPC_DQ_Start_Light OR Machine_Auto_State AND OPC_DQ_Start_Light;","W":1115}],"CMT":"This Rung referrs to the logic of the different machine states","LRI":1,"RRI":2,"VLs":[]}
