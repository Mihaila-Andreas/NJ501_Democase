<StructuredTextModel xmlns="http://schemas.datacontract.org/2004/07/Omron.Cxap.Modules.StructuredText.Core" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Text>;&#xD;
IF Enable THEN&#xD;
	&#xD;
	xRise_start(clk:=xStart);&#xD;
	xRise_stop(clk:=xStop);&#xD;
	Enabled:=TRUE;&#xD;
	&#xD;
	CASE uTimeSpan OF&#xD;
		&#xD;
		0:		&#xD;
			&#xD;
			&#xD;
			IF (xRise_start.Q) then	&#xD;
				ulTempTime:= Get1usCnt();	&#xD;
				Busy:=TRUE;&#xD;
				Done:=FALSE;&#xD;
				uTimeSpan:=10;&#xD;
			END_IF;&#xD;
		&#xD;
		&#xD;
		10:&#xD;
			&#xD;
			IF (xRise_stop.Q) then	&#xD;
				ulTempTime:= Get1usCnt()-ulTempTime;	&#xD;
				Busy:=FALSE;&#xD;
				Done:=TRUE;&#xD;
				TimeSpan:=ulTempTime;&#xD;
				uTimeSpan:=0;&#xD;
			END_IF;&#xD;
	END_CASE;&#xD;
	&#xD;
ELSE&#xD;
	&#xD;
	Done:=FALSE;&#xD;
	Busy:=FALSE;&#xD;
	//TimeSpan:=0;&#xD;
	Enabled:=false;&#xD;
	ulTempTime:=0;&#xD;
	uTimeSpan:=0;&#xD;
	&#xD;
END_IF;&#xD;
</Text></StructuredTextModel>